<!DOCTYPE html>
<html lang="en">


<head>
   <title>Run wkTuple</title>
   <script type="text/javascript" src="dependencies/jquery-1.10.2.min.js"> </script>
   <script type="text/javascript" src="dependencies/opencpu-0.4.js"> </script>
  </head>
 <body class="indent">  

 <h2>  Multiple Sequence Free-Alignment </h2> 
   
 Alignment-free methods are based on word-counting, which only considers the frequency of joint neighboring words without
    any correction of their locations in the sequence and it is of interest to track the position of nucleotides in sequence and
  use the underlying distribution of data. This web interface is the alignment-free of three or more biological sequences (DNA) of 
    similar\different length. The result is a dendrogram that can be used to draw the inference and diagnosis
  the evolutionary relationships between the sequences studied.
      

  <br />
  <br /> 
     
        --------------------------------------------
    <form>
     <fieldset >  
        <legend> Step I- Uploead the Fasta file </legend>
     
    Save all sequences in a single file fasta and upload it
  <input type="file" id="csvfile">
  <br />

  <button id="submitfile" type="button">Submit file</button> 
  <pre><span2> <code id="outputsubmitfile"></code></span2></pre> 
        
</fieldset>
       </form>
     <br />
       <form>
         <fieldset >
            
  <legend> Step II- Choose the labels </legend> The default labels are numeric values, otherwise the labels should be defined in the following box
  <br />
  <input type="text" id="label1" value=" c('Ape','Baboon','Chimpanzee','Gibbon','Gorilla','Human','Mouse','Rat','SuOrangutan')">
  <br>
  <br> 
            </fieldset >
          </form>
  <script>
    function show(elementID) {
      var ele = document.getElementById(elementID);
      if (!ele) {
        alert("no such element");
        return;
      }
      var pages = document.getElementsByClassName('page');
      for (var i = 0; i < pages.length; i++) {
        pages[i].style.display = 'none';
      }
      ele.style.display = 'block';
    }
  </script>

   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
         <br/>  
       <br/>
 
   <form>
      <fieldset>    
   <legend > Step III- Select the class of method
     <select  id="dropdown" onchange="show(this.value);">
    <option   value="Page1"  >Non-ensample</option>
    <option  value="Page2" >Ensample</option>
</select>
</legend>
   
      </fieldset>
         </form>
  <div id="Page1" class="page" style="">
    <span3>*******Non-ensemble is selcted **********</span3>
    <br/> 
        <br/>  
       <br/>
      <form>
      <fieldset>
    <legend> Step IV- Choose window length </legend>
    <input type="number" id="nfield" value="2">
    <br />
      </fieldset>
       </form>
       <br/> 
      <form>
      <fieldset>
     <legend>  Run Nive k-tuple </legend>
         First calculate the dissimilarity then generate the dendrogram
    <button id="buttondisdfr" type="button">calculate dissimilarity</button>
    <span2>
      <pre><code id="outputdisdfr"  id="plotdisdfr"></code></pre>
    </span2>
    <br>
    <button id="buttondendisdfr" type="button">Generate Dend.</button>
    <button id="buttondencirdisdfr" type="button">Generate circle Dend.</button>

    <div id="plotdisdfr"></div>
      </fieldset>
       </form> 
     <br/>
     <br/>
     <form>
     <fieldset>
    <legend>  Run CVTree </legend>
        First calculate the dissimilarity then generate the dendrogram
    <button id="buttondiscvtree" type="button">calculate dissimilarity</button>
    <span2>
      <pre><code id="outputdiscvtree"></code></pre>
      <br>
    </span2>
    <button id="buttondendiscvtree" type="button">Generate Dend.</button>
    <button id="buttondencirdiscvtree" type="button">Generate circle Dend.</button>
    <div id="plotdiscvtree"></div>
       </fieldset>
        </form>
     <br/> 
     <br/>
        <form>
      <fieldset>
    <legend> Run Locational ktuple </legend>
         First calculate the dissimilarity then generate the dendrogram
    <button id="buttondislk" type="button">calculate dissimilarity</button>
    <span2>
      <pre><code id="outputdislk"></code></pre>
    </span2>
    <br/>

    <button id="buttondendislk" type="button">Generate Dend.</button>
    <button id="buttondencirdislk" type="button">Generate circle Dend.</button>
    <div id="plotdislk"></div>
      </fieldset>
           </form>

    
  </div>
  <div id="Page2" class="page" style="display:none">
    <span3>
      **** Ensemble is selected*****
    </span3>
    <br />  
     <br />
          <br/>  
       <br/>
     <form> 
     <fieldset >
    <legend>  Run Ensemble Naive k-tuple </legend>
        First calculate the dissimilarity then generate the dendrogram
    <button id="buttonendisdfr" type="button">calculate dissimilarity</button>
    <span2>
      <pre><code id="outputendisdfr"></code></pre>
    </span2>
    <br>
    <button id="buttonendendisdfr" type="button">Generate Ens Dend.</button>
    <button id="buttonendencirdisdfr" type="button">Generate Ens circle Dend.</button>

    <div id="plotendisdfr"></div>
    </fieldset>
    </form>
    <br/>
    <form>
      <fieldset>
    <legend>  Run Ensemble CVTee k-tuple </legend>
         First calculate the dissimilarity then generate the dendrogram
    <button id="buttonendiscvtree" type="button">calculate dissimilarity</button>
    <span2>
      <pre><code id="outputendiscvtree"></code></pre>
    </span2>
    <br>
    <button id="buttonendendiscvtree" type="button">Generate Ens Dend.</button>
    <button id="buttonendencirdiscvtree" type="button">Generate Ens circle Dend.</button>

    <div id="plotendiscvtree"></div>
    </fieldset>
       </form>
    <br> 
       <form>
     <fieldset>        
    <legend>  Run Ensemble  Locational ktuple </legend>
        First calculate the dissimilarity then generate the dendrogram
    <button id="buttonendislk" type="button">calculate Ens dissimilarity</button>
    <span2>
      <pre><code id="outputendislk"></code></pre>
    </span2>
    <br />

    <button id="buttonendendislk" type="button">Generate Ens Dend.</button>
    <button id="buttonendencirdislk" type="button">Generate Ens circle Dend.</button>
    <div id="plotendislk"></div>
 </fieldset >
       </form>
  </div>
  <br>
  <p>
    
    <small>
<span4>
Cite: Amiri, S., and Ivo, D. (2017).  wkTuple: A Web Interface for Alignment-Free Multiple Sequence Analysis.  
<br>
    R script: https://sites.google.com/site/saeidamiri1/codes/faktuple
    <br>
Contact: saeid.amiri1 atsign gmail.com
<br>
<br>    
Version: wkTuple0.50
    <br>
License: GPL-3.0    
</span4>
</small>
  </p>

    
    
    <style> 
        fieldset{
    display: flex;
    border: 1px solid;
}
       
        span1 {
  text-decoration: underline;
  color: green;
  cursor: pointer;
  font-weight: bold;
}

span2 {
  text-decoration: underline;
  color: green;
}

span3 {
  text-decoration: underline;
  color: blue;
  font-weight: bold;
  border: 1px solid #000000
}

span4 {
  text-decoration: underline;
  color: gray;
}

#plotdislk {
  height: 400px;
  border: solid gray 1px;
}

#plotdisdfr {
  height: 400px;
  border: solid gray 1px;
}

#plotdiscvtree {
  height: 400px;
  border: solid gray 1px;
}

#plotendislk {
  height: 400px;
  border: solid gray 1px;
}

#plotendisdfr {
  height: 400px;
  border: solid gray 1px;
}

#plotendiscvtree {
  height: 400px;
  border: solid gray 1px;
}

              .indent {
    margin-left: 20px;
}
legend {
    border: 10px  black;
    padding: 5px;
    background: #C8C8C8 ;
    background-clip: content-box;
}
    </style>
  
  
  
  
  
   <script>
      alert = function() {};
     //because read.csv is in utils
var convertfile;
var matdislk;
var matdisdfr;
var matdiscvtree;
var label0 = new ocpu.Snippet($("#label1").val());
var nfield = parseInt($("#nfield").val());
//actual handler
$("#submitfile").on("click", function() {

  //arguments
  var myheader = $("#header").val() == "true";
  var myfile = $("#csvfile")[0].files[0];

  if (!myfile) {
    alert("No file selected.");
    return;
  }


  //disable the button during upload
  $("#submitfile").attr("disabled", "disabled");

  //perform the request
  ocpu.seturl("//public.opencpu.org/ocpu/library/seqinr/R")
  var req = ocpu.call("read.fasta", {
    "file": myfile,
  }, function(argf) {
    convertfile = argf;
    convertfile.getConsole(function(outtxt) {
      $("#outputsubmitfile").text(outtxt);
    });
  });

  //if R returns an error, alert the error message
  req.fail(function() {
    alert("Server error: " + req.responseText);
  });

  //after request complete, re-enable the button 
  req.always(function() {
    $("#submitfile").removeAttr("disabled")
  });
});

$("#buttondislk").click(function() {
  ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
  var nfield = parseInt($("#nfield").val());
  var req1 = ocpu.call("DKLlk", {
    ee: convertfile,
    ell: nfield
  }, function(arglk) {
    matdislk = arglk;
    matdislk.getConsole(function(outtxt) {
      $("#outputdislk").text(outtxt);
    });
  });
});

$("#buttondendislk").click(function() {
  ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
  var req1 = ocpu.call("hc0", {
    Se: matdislk
  }, function(arglkdn) {
    ocpu.seturl("//pubic.opencpu.org/ocpu/library/graphics/R")
    ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
    var label0 = new ocpu.Snippet($("#label1").val());

    var req = $("#plotdislk").rplot("plotden", {
      hc1: arglkdn,
      cluslab: label0
    })
  });
});


$("#buttondencirdislk").click(function() {
  ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
  var req1 = ocpu.call("hc0", {
    Se: matdislk
  }, function(arglkcr) {
    ocpu.seturl("//pubic.opencpu.org/ocpu/library/graphics/R")
    ocpu.seturl("//pubic.opencpu.org/ocpu/library/ape/R")
    ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")

    var req = $("#plotdislk").rplot("plotdencir", {
      hc1: arglkcr,
      cluslab: label0
    })
  });
});

/* */
/* */
$("#buttonendislk").click(function() {
  ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
  var nfield = parseInt($("#nfield").val());
  var req1 = ocpu.call("EnDKLlk", {
    ee: convertfile
  }, function(arglk) {
    matendislk = arglk;
    matendislk.getConsole(function(outtxt) {
      $("#outputendislk").text(outtxt);
    });
  });
});

$("#buttonendendislk").click(function() {
  ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
  var req1 = ocpu.call("hc0", {
    Se: matendislk
  }, function(arglkdn) {
    ocpu.seturl("//pubic.opencpu.org/ocpu/library/graphics/R")
    ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
    var label0 = new ocpu.Snippet($("#label1").val());

    var req = $("#plotendislk").rplot("plotden", {
      hc1: arglkdn,
      cluslab: label0
    })
  });
});


$("#buttonendencirdislk").click(function() {
  ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
  var req1 = ocpu.call("hc0", {
    Se: matendislk
  }, function(arglkcr) {
    ocpu.seturl("//pubic.opencpu.org/ocpu/library/graphics/R")
    ocpu.seturl("//pubic.opencpu.org/ocpu/library/ape/R")
    ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")

    var req = $("#plotendislk").rplot("plotdencir", {
      hc1: arglkcr,
      cluslab: label0
    })
  });
});


/**************************/
/**************************/
/**************************/
/**************************/
/**************************/
/**************************/


$("#buttondisdfr").click(function() {
  ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
  var nfield = parseInt($("#nfield").val());
  var req1 = ocpu.call("DKLdfr", {
    ee: convertfile,
    ell: nfield
  }, function(argdfr) {
    matdisdfr = argdfr;
    matdisdfr.getConsole(function(outtxt) {
      $("#outputdisdfr").text(outtxt);
    });
  });
});

$("#buttondendisdfr").click(function() {
  ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
  var req1 = ocpu.call("hc0", {
    Se: matdisdfr
  }, function(argdfrdn) {
    ocpu.seturl("//pubic.opencpu.org/ocpu/library/graphics/R")
    ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
    var label0 = new ocpu.Snippet($("#label1").val());
    var req = $("#plotdisdfr").rplot("plotden", {
      hc1: argdfrdn,
      cluslab: label0
    })
  });
});

$("#buttondencirdisdfr").click(function() {
  ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
  var req1 = ocpu.call("hc0", {
    Se: matdisdfr
  }, function(argdfrcr) {
    ocpu.seturl("//pubic.opencpu.org/ocpu/library/graphics/R")
    ocpu.seturl("//pubic.opencpu.org/ocpu/library/ape/R")
    ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")

    var req = $("#plotdisdfr").rplot("plotdencir", {
      hc1: argdfrcr,
      cluslab: label0
    })
  });
});

/**/
/**/
/**/

$("#buttonendisdfr").click(function() {
  ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
  var nfield = parseInt($("#nfield").val());
  var req1 = ocpu.call("EnDKLdfr", {
    ee: convertfile
  }, function(argdfr) {
    matendisdfr = argdfr;
    matendisdfr.getConsole(function(outtxt) {
      $("#outputendisdfr").text(outtxt);
    });
  });
});

$("#buttonendendisdfr").click(function() {
  ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
  var req1 = ocpu.call("hc0", {
    Se: matendisdfr
  }, function(argdfrdn) {
    ocpu.seturl("//pubic.opencpu.org/ocpu/library/graphics/R")
    ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
    var label0 = new ocpu.Snippet($("#label1").val());
    var req = $("#plotendisdfr").rplot("plotden", {
      hc1: argdfrdn,
      cluslab: label0
    })
  });
});

$("#buttonendencirdisdfr").click(function() {
  ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
  var req1 = ocpu.call("hc0", {
    Se: matendisdfr
  }, function(argdfrcr) {
    ocpu.seturl("//pubic.opencpu.org/ocpu/library/graphics/R")
    ocpu.seturl("//pubic.opencpu.org/ocpu/library/ape/R")
    ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")

    var req = $("#plotendisdfr").rplot("plotdencir", {
      hc1: argdfrcr,
      cluslab: label0
    })
  });
});



/**************************/
/**************************/
/**************************/
/**************************/
/**************************/
/**************************/
$("#buttondiscvtree").click(function() {
  ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
  var nfield = parseInt($("#nfield").val());
  var req1 = ocpu.call("DKLcvtree", {
    ee: convertfile,
    ell: nfield
  }, function(argcv) {
    matdiscvtree = argcv;
    matdiscvtree.getConsole(function(outtxt) {
      $("#outputdiscvtree").text(outtxt);
    });
  });
});

$("#buttondendiscvtree").click(function() {
  ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
  var req1 = ocpu.call("hc0", {
    Se: matdiscvtree
  }, function(argcvdn) {
    ocpu.seturl("//pubic.opencpu.org/ocpu/library/graphics/R")
    ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
    var label0 = new ocpu.Snippet($("#label1").val());
    var req = $("#plotdiscvtree").rplot("plotden", {
      hc1: argcvdn,
      cluslab: label0
    })
  });
});

$("#buttondencirdiscvtree").click(function() {
  ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
  var req1 = ocpu.call("hc0", {
    Se: matdiscvtree
  }, function(argcvcr) {
    ocpu.seturl("//pubic.opencpu.org/ocpu/library/graphics/R")
    ocpu.seturl("//pubic.opencpu.org/ocpu/library/ape/R")
    ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
    var req = $("#plotdiscvtree").rplot("plotdencir", {
      hc1: argcvcr,
      cluslab: label0
    })
  });
});

/* */
/* */

$("#buttonendiscvtree").click(function() {
  ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
  var nfield = parseInt($("#nfield").val());
  var req1 = ocpu.call("EnDKLcvtree", {
    ee: convertfile
  }, function(argcv) {
    matendiscvtree = argcv;
    matendiscvtree.getConsole(function(outtxt) {
      $("#outputendiscvtree").text(outtxt);
    });
  });
});

$("#buttonendendiscvtree").click(function() {
  ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
  var req1 = ocpu.call("hc0", {
    Se: matendiscvtree
  }, function(argcvdn) {
    ocpu.seturl("//pubic.opencpu.org/ocpu/library/graphics/R")
    ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
    var label0 = new ocpu.Snippet($("#label1").val());
    var req = $("#plotendiscvtree").rplot("plotden", {
      hc1: argcvdn,
      cluslab: label0
    })
  });
});

$("#buttonendencirdiscvtree").click(function() {
  ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
  var req1 = ocpu.call("hc0", {
    Se: matendiscvtree
  }, function(argcvcr) {
    ocpu.seturl("//pubic.opencpu.org/ocpu/library/graphics/R")
    ocpu.seturl("//pubic.opencpu.org/ocpu/library/ape/R")
    ocpu.seturl("https://public.opencpu.org/ocpu/github/saeidamiri1/justtest16/R")
    var req = $("#plotendiscvtree").rplot("plotdencir", {
      hc1: argcvcr,
      cluslab: label0
    })
  });
});

 // The program is written by Saeid Amiri.  
  </script>

   </body>
</html>
